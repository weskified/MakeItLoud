<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]>      <html class="no-js"> <![endif]-->
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Make It Loud! MIDI Tool</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="assets/main.css">
        <link rel="stylesheet" href="assets/checkbox.css">
    </head>
    <body>
        <!--[if lt IE 7]>
            <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="#">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->

        <div id="bg" class="checkBg" style="position: fixed; top: 0; left: 0; --color1: #444; --color2: #333; width: 100%; height: 100%; z-index: -1; transition: transform 2s cubic-bezier(0.165, 0.840, 0.440, 1.000);"></div>

        <div id="body" style="width: 100vw; height: 100vh; padding: 50px; line-height: 0px;">
            <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);">
                
            </div>

            <div style="position: fixed; bottom: 50px; display: flex; flex-direction: column; line-height: 30px;">
                <text style="font-size: 70px; line-height: 50px;">Make it Loud! <a href="https://github.com/weskified/MakeItLoud" style="font-size: 40px;">Midi Tool</a></text> <!-- me when im lazy be like -->
                <text style="font-size: 30px;">made with ðŸ’š by <a href="https://github.com/weskified">wesk</a>! ...and with <a href="https://github.com/Tonejs/Midi">@tonejs/midi</a>!</text>
            </div>

            <div style="position: fixed; bottom: 50px; right: 50px; text-align: right; display: flex; flex-direction: column; line-height: 30px;">
                <div style="margin-bottom: 5px;">
                    <div style="display: grid; grid-template-columns: 1fr 205px; align-items: center; gap: 5px;">
                        <text style="font-size: 30px; margin-bottom: 5px;">Volume</text>
                        <div class="fancy-box" style="width: 200px;">
                            <input style="font-family: 'DarumadropOne', sans-serif; font-size: 20px; width: 100%; box-sizing: border-box;" id="volume" type="number" value="200" min="100" max="500">
                        </div>

                        <script>
                            const volumeInput = document.getElementById('volume');
                            volumeInput.addEventListener('blur', (e) => {
                                let value = parseInt(e.target.value) || 200;
                                if (value > 500) value = 500;
                                if (value < 100) value = 100;
                                e.target.value = value;
                            });
                        </script>
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr 50px; align-items: center; gap: 5px;">
                        <text style="font-size: 30px; margin-bottom: 5px;">Normalize Note Velocities</text>
                        <w-checkbox id="normalize"></w-checkbox>
                    </div>
                </div>
                <text style="font-size: 30px;">Drag and drop (multiple) files to make them louder!</text>
            </div>
        </div>

        <script src="https://unpkg.com/@tonejs/midi@2.0.28/build/Midi.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/gsap@3.14.1/dist/gsap.min.js"></script>
        <script src="scripts/checkbox.js"></script>
        <script src="scripts/midi.js"></script>

        <script>
            let mouseX, mouseY;
            document.addEventListener("mousemove", e => {
                mouseX = e.clientX;
                mouseY = e.clientY;
            
                gsap.to("#body", {
                    x: (mouseX / window.innerWidth - .9) * 20,
                    y: (mouseY / window.innerHeight - .9) * 20,
                    delay: 0,
                    ease: "power2.out",
                    overwrite: "auto"
                });
            });
        </script>
    </body>
</html>
